<UserControl x:Class="OneViewer.Controls.Preview.MusicPreviewPopup"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:c="clr-namespace:OneViewer.Controls"
             mc:Ignorable="d" 
             Width="300" Height="400"
             d:DesignHeight="400" d:DesignWidth="300">
    <UserControl.Resources>

        <DrawingImage x:Key="MusicDrawingImage">
            <DrawingImage.Drawing>
                <DrawingGroup ClipGeometry="M0,0 V187.5 H187.5 V0 H0 Z">
                    <DrawingGroup Transform="1,0,0,1,-6.25,-6.25">
                        <GeometryDrawing Brush="{DynamicResource PrimaryBrush}" Geometry="F1 M187.5,187.5z M0,0z M193.75,100A93.75,93.75,0,1,1,100,6.25A93.75,93.75,0,0,1,193.75,100z M147.92,101.83A6.06,6.06,0,0,0,141.92,107.22A44.09,44.09,0,0,1,98.21,145.87C83.81,145.87 69.88,138.43 62.73,126.87 54.58,113.75 56.73,96.15 67.63,85.94A25.74,25.74,0,0,1,78.85,79.88L77.85,83.58C76.85,87.01 75.85,90.53 75.03,93.72 72.83,102.47 74.26,110.72 79.1,117.07A24,24,0,0,0,111.7,121.94A26.93,26.93,0,0,0,122.94,102.3A30.21,30.21,0,0,0,121.94,91.55A34.21,34.21,0,0,0,101.45,69.47A45.62,45.62,0,0,0,95,67.59L103,43.22C105.9,32.51,101,23.07,90.92,19.72L90.92,19.72A18.72,18.72,0,0,0,82.92,18.9A19.71,19.71,0,0,0,72.49,23.46A12.9,12.9,0,0,0,69.68,26.68L69.55,26.88A6.2,6.2,0,0,0,79.29,34.24A26.35,26.35,0,0,1,81.29,32.31A6.77,6.77,0,0,1,83.68,31.13A6.21,6.21,0,0,1,91.18,35.31A8.65,8.65,0,0,1,91.07,40C90.53,42,82.86,65.09,82.41,66.84A38.86,38.86,0,0,0,59.21,76.96C43.79,91.36 40.84,115.13 52.21,133.47 61.57,148.55 79.62,158.29 98.21,158.29A56.52,56.52,0,0,0,154.21,108.57A6,6,0,0,0,148.21,101.86z M91.82,79.59A29.43,29.43,0,0,1,97,81.07A21.62,21.62,0,0,1,110,94.94A17.34,17.34,0,0,1,110.57,101.27A14.4,14.4,0,0,1,104.57,111.81A11.4,11.4,0,0,1,94.78,113.47A11.13,11.13,0,0,1,88.87,109.58C85.69,105.43 86.09,100.34 86.98,96.79 87.75,93.79 88.72,90.42 89.68,87.04 90.41,84.54 91.13,82.04 91.78,79.59z" />
                    </DrawingGroup>
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>

        <DrawingImage x:Key="DiscHandleDrawingImage">
            <DrawingImage.Drawing>
                <DrawingGroup ClipGeometry="M0,0 V325.36 H330.85 V0 H0 Z">
                    <DrawingGroup.Transform>
                        <TranslateTransform X="4" Y="5.7100000381469727" />
                    </DrawingGroup.Transform>
                    <DrawingGroup Transform="1,0,0,1,24,24">
                        <GeometryDrawing Brush="#FFCCCCCC" Geometry="F1 M330.85,325.36z M0,0z M264.59,247.82C254.11,224 252.5,220.34 218.67,180.53 182.56,138.06 -2.18,7 -4,5.71L4.05,-5.71C11.71,-0.29 192.05,127.66 229.33,171.47 263.19,211.3 265.96,216.16 277.41,242.18z">
                            <GeometryDrawing.Pen>
                                <Pen Brush="#FF999999" Thickness="1" StartLineCap="Flat" EndLineCap="Flat" LineJoin="Miter" />
                            </GeometryDrawing.Pen>
                        </GeometryDrawing>
                    </DrawingGroup>
                    <DrawingGroup Transform="0.367799977044111,0.929904928950455,-0.929904928950455,0.367799977044111,439.57,-70.04">
                        <GeometryDrawing Brush="#FFE6E6E6">
                            <GeometryDrawing.Geometry>
                                <RectangleGeometry RadiusX="5.74" RadiusY="5.74" Rect="255.95,247.13,42,23" />
                            </GeometryDrawing.Geometry>
                        </GeometryDrawing>
                    </DrawingGroup>
                    <DrawingGroup Transform="0.367799977044111,0.929904928950455,-0.929904928950455,0.367799977044111,464.61,-64.38">
                        <GeometryDrawing Brush="#FFE6E6E6">
                            <GeometryDrawing.Pen>
                                <Pen Brush="#FF808080" Thickness="1" StartLineCap="Flat" EndLineCap="Flat" LineJoin="Miter" />
                            </GeometryDrawing.Pen>
                            <GeometryDrawing.Geometry>
                                <RectangleGeometry RadiusX="5.74" RadiusY="5.74" Rect="267.85,262.32,34.92,35.12" />
                            </GeometryDrawing.Geometry>
                        </GeometryDrawing>
                    </DrawingGroup>
                    <GeometryDrawing Brush="#FFF2F2F2">
                        <GeometryDrawing.Geometry>
                            <EllipseGeometry RadiusX="24" RadiusY="24" Center="24,24" />
                        </GeometryDrawing.Geometry>
                    </GeometryDrawing>
                    <GeometryDrawing Brush="#FFB3B3B3">
                        <GeometryDrawing.Geometry>
                            <EllipseGeometry RadiusX="9.5" RadiusY="9.5" Center="24,24" />
                        </GeometryDrawing.Geometry>
                    </GeometryDrawing>
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
    </UserControl.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition Height="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Grid}}"/>
            <RowDefinition/>
            <RowDefinition/>
        </Grid.RowDefinitions>

        <TextBlock x:Name="StatusTextBlock" Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center" TextTrimming="CharacterEllipsis"/>

        <Border Grid.Row="1" Background="{DynamicResource BackgroundBrush}" Margin="30,50,30,10"
                CornerRadius="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Grid}}">
            <Border Background="#222222" Margin="10" Effect="{StaticResource EffectShadow2}"
                    CornerRadius="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Border}}">
                <Border Background="#222222" Margin="3" BorderThickness="1" BorderBrush="#333333"
                        CornerRadius="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Border}}">
                    <Border Background="#222222" Margin="3" BorderThickness="1" BorderBrush="#333333"
                            CornerRadius="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Border}}">
                        <Border Background="#222222" Margin="3" BorderThickness="1" BorderBrush="#333333"
                                CornerRadius="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Border}}">
                            <Border Background="#222222" Margin="3" BorderThickness="1" BorderBrush="#333333"
                                    CornerRadius="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Border}}">
                                <Border Background="#222222" Margin="3" BorderThickness="1" BorderBrush="#333333"
                                        CornerRadius="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Border}}">
                                    <Border Background="#222222" Margin="3" BorderThickness="1" BorderBrush="#333333"
                                            CornerRadius="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Border}}">
                                        <c:ClippingBorder Margin="3" CornerRadius="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Border}}">
                                            <Image x:Name="CoverImage" RenderTransformOrigin="0.5,0.5" Source="{StaticResource MusicDrawingImage}">
                                                <Image.RenderTransform>
                                                    <RotateTransform x:Name="CoverImageRotation"/>
                                                </Image.RenderTransform>
                                            </Image>
                                        </c:ClippingBorder>
                                    </Border>
                                </Border>
                            </Border>
                        </Border>
                    </Border>
                </Border>
            </Border>
        </Border>
        <Image Grid.Row="1" Source="{StaticResource DiscHandleDrawingImage}" Width="140" Height="140" Margin="110,2,0,0" 
               HorizontalAlignment="Left" VerticalAlignment="Top" RenderTransformOrigin="0.072,0.073" Effect="{StaticResource EffectShadow4}">
            <Image.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform x:Name="DickHandleRotation" Angle="3"/>
                    <TranslateTransform/>
                </TransformGroup>
            </Image.RenderTransform>
        </Image>

        <Slider x:Name="TimeSlider" Grid.Row="2" Maximum="1" Margin="10,0" VerticalAlignment="Center"/>
        <TextBlock x:Name="CurrentTimeTextBlock" Grid.Row="3" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
        <TextBlock x:Name="TotalTimeTextBlock" Grid.Row="3" Margin="0,0,10,0" HorizontalAlignment="Right" VerticalAlignment="Center"/>
    </Grid>
</UserControl>
